<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width" />
    <title>查看用户</title>
    <link href="../../Content/css/framework-font.css" rel="stylesheet" />
    <link href="../../Content/css/framework-theme.css" rel="stylesheet" />
    <script src="../../Content/js/jquery/jquery-2.1.1.min.js"></script>
    <script src="../../Content/js/bootstrap/bootstrap.js"></script>
    <link href="../../Content/js/bootstrap/bootstrap.min.css" rel="stylesheet" />
    <script src="../../Content/js/wdtree/tree.js"></script>
    <link href="../../Content/js/wdtree/tree.css" rel="stylesheet" />
    <link href="../../Content/js/select2/select2.min.css" rel="stylesheet" />
    <script src="../../Content/js/select2/select2.min.js"></script>
    <link href="../../Content/js/wizard/wizard.css" rel="stylesheet" />
    <script src="../../Content/js/wizard/wizard.js"></script>
    <script src="../../Content/js/validate/jquery.validate.min.js"></script>
    <script src="../../Content/js/datepicker/WdatePicker.js"></script>
    <link href="../../Content/css/framework-ui.css" rel="stylesheet" />
    <script src="../../Content/js/framework-ui.js"></script>
    <script>
        var keyValue = $.request("keyValue");
        $(function () {
            initControl();
            $.ajax({
                url: $.sysStaticData().urlExt +"/sysUser/queryOneBySysUserId",
                data: { keyValue: keyValue },
                dataType: "json",
                async: false,
                success: function (data) {
                    $("#form1").formSerialize(data);
                    if(data.fBirthday==null){
                    	$("#fBirthday").val("");
                    }
                    if(data.fCreatortime==null){
                    	$("#fCreatortime").val("");
                    }
                    if(data.fLastmodifytime==null){
                    	$("#fLastmodifytime").val("");
                    }
                    $("#form1").find('.form-control,select,input').attr('readonly', 'readonly');
                    $("#form1").find('div.ckbox label').attr('for', '');
                    $("#fUserpassword").val("******");
                }
            });
        });
        function initControl() {
            $("#fGender").bindSelect()
            $("#fIsadministrator").bindSelect()
            $("#fEnabledmark").bindSelect()
            
            var defaults =
                {
                    id: "id",
                    text: "fullname",
                    search: false,
                    url: "",
                    param: [],
                    change: null,
                    data: top.clients.organize
                };
            $("#fOrganizeid").bindSelectByData(defaults);
            $("#fDepartmentid").bindSelectByData(defaults);
            

/*             var defaultsRole =
                {
                    id: "id",
                    text: "fullname",
                    search: false,
                    url: "",
                    param: [],
                    change: null,
                    data: top.clients.role
                };
            $("#fRoleid").bindSelectByData(defaultsRole);

            var defaultsDuty =
                {
                    id: "id",
                    text: "fullname",
                    search: false,
                    url: "",
                    param: [],
                    change: null,
                    data: top.clients.duty
                };
            $("#fDutyid").bindSelectByData(defaultsDuty); */
        	$("#fRoleid").bindSelectByPostRowsJueGang({
        		  url: $.sysStaticData().urlExt+"/role/queryRoleByPage?rows=1000&page=1&sidx=&sord=",
        			id: "fId",
                  text:"fFullname"
        	});
        	$("#fDutyid").bindSelectByPostRowsJueGang({
      		  url: $.sysStaticData().urlExt+"/role/queryAllDuty?rows=1000&page=1&sidx=&sord=",
      			id: "fId",
                text:"fFullname"
      	});
        }
    </script>
</head>
<body>
    <form id="form1">
        <div style="margin-top: 10px; margin-left: 10px; margin-right: 10px;">
            <ul class="nav nav-tabs">
                <li class="active"><a href="javascript:void()">基本信息</a></li>
                <!--<li><a href="javascript:void()">扩展信息</a></li>
                <li><a href="javascript:void()">登录日志</a></li>
                <li><a href="javascript:void()">操作日志</a></li>-->
            </ul>
            <div style="padding-top: 20px; margin-right: 30px;">
                <table class="form">
                    <tr>
                        <th class="formTitle">账户</th>
                        <td class="formValue">
                            <input id="fAccount" name="fAccount" type="text" class="form-control" />
                        </td>
                        <th class="formTitle">密码</th>
                        <td class="formValue">
                            <input id="fUserpassword" name="fUserpassword" type="password" class="form-control" />
                        </td>
                    </tr>
                    <tr>
                        <th class="formTitle">单位</th>
                        <td class="formValue" colspan="3">
                        	<input id="fOrganizename" name="fOrganizename" class="form-control required" type="text" readonly value="" style="width:99%;float:left" />
                        </td>
                    </tr>
                    <tr>
                        <th class="formTitle">角色</th>
                        <td class="formValue">
                            <select id="fRoleid" name="fRoleid" class="form-control">
                                <option value="">==请选择==</option>
                            </select>
                        </td>
                        <th class="formTitle">岗位</th>
                        <td class="formValue">
                            <select id="fDutyid" name="fDutyid" class="form-control">
                                <option value="">==请选择==</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <th class="formTitle">姓名</th>
                        <td class="formValue">
                            <input id=fRealname name="fRealname" type="text" class="form-control" />
                        </td>
                        <th class="formTitle">性别</th>
                        <td class="formValue">
                            <select id="fGender" name="fGender" class="form-control">
                                <option value="true">男</option>
                                <option value="false">女</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <th class="formTitle">手机</th>
                        <td class="formValue">
                            <input id="fMobilephone" name="fMobilephone" type="text" class="form-control" />
                        </td>
                        <th class="formTitle">生日</th>
                        <td class="formValue">
                            <input id="fBirthday" name="fBirthday" type="text" class="form-control" />
                        </td>
                    </tr>
                    <tr>
                        <th class="formTitle">微信</th>
                        <td class="formValue">
                            <input id="fWechat" name="fWechat" type="text" class="form-control" />
                        </td>
                        <th class="formTitle">邮箱</th>
                        <td class="formValue">
                            <input id="fEmail" name="fEmail" type="text" class="form-control" />
                        </td>
                    </tr>
                    <tr>
                        <th class="formTitle">类型</th>
                        <td class="formValue">
                            <select id="fIsadministrator" name="fIsadministrator" class="form-control">
                                <option value="false">普通用户</option>
                                <option value="true">系统管理员</option>
                            </select>
                        </td>
                        <th class="formTitle">允许登录</th>
                        <td class="formValue">
                            <select id="fEnabledmark" name="fEnabledmark" class="form-control">
                                <option value="true">是</option>
                                <option value="false">否</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <th class="formTitle">工号</th>
                        <td class="formValue">
                        	<input id="fJobNumber" name="fJobNumber" type="text" class="form-control required digits number" placeholder="请输入工号"/>     
                        </td>
                    </tr>
                    <tr>
                        <th class="formTitle" valign="top" style="padding-top: 5px;">
                            备注
                        </th>
                        <td class="formValue" colspan="3">
                            <textarea id="fDescription" name="fDescription" class="form-control" style="height: 60px;"></textarea>
                        </td>
                    </tr>
                    <tr>
                        <th class="formTitle">创建人员</th>
                        <td class="formValue">
                            <input id="fCreatoruserid" name="fCreatoruserid" type="text" class="form-control" />
                        </td>
                        <th class="formTitle">创建时间</th>
                        <td class="formValue">
                            <input id="fCreatortime" name="fCreatortime" type="text" class="form-control" />
                        </td>
                    </tr>
                    <tr>
                        <th class="formTitle">修改人员</th>
                        <td class="formValue">
                            <input id="fLastmodifyuserid" name="fLastmodifyuserid" type="text" class="form-control" />
                        </td>
                        <th class="formTitle">修改时间</th>
                        <td class="formValue">
                            <input id="fLastmodifytime" name="fLastmodifytime" type="text" class="form-control" />
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </form>
</body>
</html>