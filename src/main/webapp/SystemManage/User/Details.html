<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width" />
    <title>查看用户</title>
    <link href="../../Content/css/framework-font.css" rel="stylesheet" />
    <link href="../../Content/css/framework-theme.css" rel="stylesheet" />
    <script src="../../Content/js/jquery/jquery-2.1.1.min.js"></script>
    <script src="../../Content/js/bootstrap/bootstrap.js"></script>
    <link href="../../Content/js/bootstrap/bootstrap.min.css" rel="stylesheet" />
    <script src="../../Content/js/wdtree/tree.js"></script>
    <link href="../../Content/js/wdtree/tree.css" rel="stylesheet" />
    <link href="../../Content/js/select2/select2.min.css" rel="stylesheet" />
    <script src="../../Content/js/select2/select2.min.js"></script>
    <link href="../../Content/js/wizard/wizard.css" rel="stylesheet" />
    <script src="../../Content/js/wizard/wizard.js"></script>
    <script src="../../Content/js/validate/jquery.validate.min.js"></script>
    <script src="../../Content/js/datepicker/WdatePicker.js"></script>
    <link href="../../Content/css/framework-ui.css" rel="stylesheet" />
    <script src="../../Content/js/framework-ui.js"></script>
    <script>
        var keyValue = $.request("keyValue");
        $(function () {
            initControl();
            $.ajax({
                url: $.sysStaticData().urlExt +"/sysUser/queryOneBySysUserId",
                data: { keyValue: keyValue },
                dataType: "json",
                async: false,
                success: function (data) {
                    $("#form1").formSerialize(data);
                    if(data.birthday==null){
                    	$("#birthday").val("");
                    }
                    if(data.creatortime==null){
                    	$("#creatortime").val("");
                    }
                    if(data.lastmodifytime==null){
                    	$("#lastmodifytime").val("");
                    }
                    $("#form1").find('.form-control,select,input').attr('readonly', 'readonly');
                    $("#form1").find('div.ckbox label').attr('for', '');
                    $("#userpassword").val("******");
                }
            });
        });
        function initControl() {
            $("#gender").bindSelect()
            $("#isadministrator").bindSelect()
            $("#enabledmark").bindSelect()
            
            var defaults =
                {
                    id: "id",
                    text: "fullname",
                    search: false,
                    url: "",
                    param: [],
                    change: null,
                    data: top.clients.organize
                };
            $("#organizeid").bindSelectByData(defaults);
            $("#departmentid").bindSelectByData(defaults);

        	$("#roleid").bindSelectByPostRowsJueGang({
        		  url: $.sysStaticData().urlExt+"/role/queryRoleByPage?rows=1000&page=1&sidx=&sord=",
        			id: "id",
                  text:"fullname"
        	});
        	$("#dutyid").bindSelectByPostRowsJueGang({
      		  url: $.sysStaticData().urlExt+"/role/queryAllDuty?rows=1000&page=1&sidx=&sord=",
      			id: "id",
                text:"fullname"
      	});
        }
    </script>
</head>
<body>
    <form id="form1">
        <div style="margin-top: 10px; margin-left: 10px; margin-right: 10px;">
            <ul class="nav nav-tabs">
                <li class="active"><a href="javascript:void()">基本信息</a></li>
                <!--<li><a href="javascript:void()">扩展信息</a></li>
                <li><a href="javascript:void()">登录日志</a></li>
                <li><a href="javascript:void()">操作日志</a></li>-->
            </ul>
            <div style="padding-top: 20px; margin-right: 30px;">
                <table class="form">
                    <tr>
                        <th class="formTitle">账户</th>
                        <td class="formValue">
                            <input id="fAccount" name="fAccount" type="text" class="form-control" />
                        </td>
                        <th class="formTitle">密码</th>
                        <td class="formValue">
                            <input id="userpassword" name="userpassword" type="password" class="form-control" />
                        </td>
                    </tr>
                    <tr>
                        <th class="formTitle">单位</th>
                        <td class="formValue" colspan="3">
                        	<input id="organizename" name="organizename" class="form-control required" type="text" readonly value="" style="width:99%;float:left" />
                        </td>
                    </tr>
                    <tr>
                        <th class="formTitle">角色</th>
                        <td class="formValue">
                            <select id="roleid" name="roleid" class="form-control">
                                <option value="">==请选择==</option>
                            </select>
                        </td>
                        <th class="formTitle">岗位</th>
                        <td class="formValue">
                            <select id="dutyid" name="dutyid" class="form-control">
                                <option value="">==请选择==</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <th class="formTitle">姓名</th>
                        <td class="formValue">
                            <input id="realname" name="realname" type="text" class="form-control" />
                        </td>
                        <th class="formTitle">性别</th>
                        <td class="formValue">
                            <select id="gender" name="gender" class="form-control">
                                <option value="true">男</option>
                                <option value="false">女</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <th class="formTitle">手机</th>
                        <td class="formValue">
                            <input id="mobilephone" name="mobilephone" type="text" class="form-control" />
                        </td>
                        <th class="formTitle">生日</th>
                        <td class="formValue">
                            <input id="birthday" name="birthday" type="text" class="form-control" />
                        </td>
                    </tr>
                    <tr>
                        <th class="formTitle">微信</th>
                        <td class="formValue">
                            <input id="wechat" name="wechat" type="text" class="form-control" />
                        </td>
                        <th class="formTitle">邮箱</th>
                        <td class="formValue">
                            <input id="email" name="email" type="text" class="form-control" />
                        </td>
                    </tr>
                    <tr>
                        <th class="formTitle">类型</th>
                        <td class="formValue">
                            <select id="isadministrator" name="isadministrator" class="form-control">
                                <option value="false">普通用户</option>
                                <option value="true">系统管理员</option>
                            </select>
                        </td>
                        <th class="formTitle">允许登录</th>
                        <td class="formValue">
                            <select id="enabledmark" name="enabledmark" class="form-control">
                                <option value="true">是</option>
                                <option value="false">否</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <th class="formTitle">工号</th>
                        <td class="formValue">
                        	<input id="jobNumber" name="jobNumber" type="text" class="form-control required digits number" placeholder="请输入工号"/>
                        </td>
                    </tr>
                    <tr>
                        <th class="formTitle" valign="top" style="padding-top: 5px;">
                            备注
                        </th>
                        <td class="formValue" colspan="3">
                            <textarea id="description" name="description" class="form-control" style="height: 60px;"></textarea>
                        </td>
                    </tr>
                    <tr>
                        <th class="formTitle">创建人员</th>
                        <td class="formValue">
                            <input id="creatoruserid" name="creatoruserid" type="text" class="form-control" />
                        </td>
                        <th class="formTitle">创建时间</th>
                        <td class="formValue">
                            <input id="creatortime" name="creatortime" type="text" class="form-control" />
                        </td>
                    </tr>
                    <tr>
                        <th class="formTitle">修改人员</th>
                        <td class="formValue">
                            <input id="lastmodifyuserid" name="lastmodifyuserid" type="text" class="form-control" />
                        </td>
                        <th class="formTitle">修改时间</th>
                        <td class="formValue">
                            <input id="lastmodifytime" name="lastmodifytime" type="text" class="form-control" />
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </form>
</body>
</html>